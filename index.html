<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OvaHead</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0CCSNFY195"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-0CCSNFY195');
    </script>
</head>
<body class="bg-black text-white font-sans selection:bg-gray-800">

    <div class="min-h-screen flex flex-col justify-center items-center px-6">
        
        <main class="max-w-2xl text-center space-y-12">
            <h1 class="text-7xl md:text-9xl font-black tracking-tighter uppercase text-white select-none">
                OvaHead
            </h1>
            
            <div id="form-wrapper" class="w-full max-w-md mx-auto">
                <form id="waitlist-form" action="https://formspree.io/f/xojvdvnw" method="POST" class="flex flex-col md:flex-row gap-3">
                    <input type="email" name="email" id="email-input" placeholder="Email address" required 
                        class="flex-1 px-6 py-4 rounded-md bg-white/10 border border-white/20 focus:outline-none focus:border-white transition-all text-white outline-none">
                    <button type="submit" id="submit-btn"
                        class="px-8 py-4 bg-white text-black font-bold rounded-md hover:bg-gray-200 transition-all uppercase tracking-widest text-sm">
                        Join the list
                    </button>
                </form>

                <div id="success-msg" class="hidden py-4 text-white font-bold uppercase tracking-widest animate-pulse">
                    You're on the list.
                </div>
            </div>
        </main>

        <footer class="mt-24 flex gap-10 text-xl opacity-50">
            <a href="https://instagram.com/ovaheadx" target="_blank" class="hover:opacity-100 transition-opacity"><i class="fab fa-instagram"></i></a>
            <a href="https://tiktok.com/@ovahead" target="_blank" class="hover:opacity-100 transition-opacity"><i class="fab fa-tiktok"></i></a>
            <a href="https://twitter.com/ovaheadx" target="_blank" class="hover:opacity-100 transition-opacity"><i class="fab fa-twitter"></i></a>
        </footer>
    </div>

    <script>
        // --- Handle Form Submission ---
        const form = document.getElementById("waitlist-form");
        const successMsg = document.getElementById("success-msg");
        const submitBtn = document.getElementById("submit-btn");

        async function handleSubmit(event) {
            event.preventDefault();
            
            // GA4 Event: Track button click
            gtag('event', 'waitlist_submit_click', {
                event_category: 'engagement',
                event_label: 'Join the list button'
            });

            submitBtn.disabled = true;
            submitBtn.innerText = "Joining...";
            
            const data = new FormData(event.target);
            
            fetch(event.target.action, {
                method: form.method,
                body: data,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    form.classList.add("hidden");
                    successMsg.classList.remove("hidden");
                    // GA4 Event: Track successful form submission
                    gtag('event', 'waitlist_submit_success', {
                        event_category: 'conversion',
                        event_label: 'Join the list success'
                    });
                } else {
                    alert("Oops! There was a problem. Please try again.");
                    submitBtn.disabled = false;
                    submitBtn.innerText = "Join the list";
                }
            }).catch(error => {
                alert("Oops! There was a problem. Please try again.");
                submitBtn.disabled = false;
                submitBtn.innerText = "Join the list";
            });
        }

        form.addEventListener("submit", handleSubmit);

        // --- Track all outbound links ---
        document.querySelectorAll('a[href^="http"]').forEach(link => {
            link.addEventListener('click', function() {
                gtag('event', 'outbound_click', {
                    event_category: 'engagement',
                    event_label: link.href
                });
            });
        });

        // --- Auto-track all future buttons for testing ---
        document.querySelectorAll('button').forEach(btn => {
            btn.addEventListener('click', function() {
                console.log("Test GA4 event fired for button:", btn.innerText);
                gtag('event', 'button_click_test', {
                    event_category: 'engagement',
                    event_label: btn.innerText || btn.id || 'unknown_button'
                });
            });
        });
    </script>

</body>
</html>

